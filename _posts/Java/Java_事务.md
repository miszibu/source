---
title: Java_事务
date: 2018-04-11 09:43:50
tags: [Java]
---

## 事务概念

**事务**：事务指的是逻辑上的一组操作，这组操作要么全部成功，要么全部失败。一般事务指的是数据库事务，但是广义事务的定义不局限与数据库事务。

<!--more-->

## 事务的特性

ACID：原子性（Atomicity）、一致性（Consistency）、隔离性（Isolation）、持久性（Durability）

1. **原子性**：事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。
2. **一致性**：事务前后数据的完整性保持一致。例如转账后，双方总额不变。
3. **隔离性**：多个用户并发访问时，一个用户的事务不被其他用户事务干扰，多个并发事务数据相互隔离。
4. **持久性**：一个事务一旦提交，它对数据库的改变就是永久性，即便数据库发生故障也应该有任何影响。

## 事务的隔离程度

**串行化，Serializable：**可串行化就是保证读取的范围内没有新的数据插入，比如事务第一次查询得到某个范围的数据，第二次查询也同样得到了相同范围的数据，中间没有新的数据插入到该范围中

**可重复读，Repeatable Read：**保证同一个事务中的多次相同的查询的结果是一致的，比如一个事务一开始查询了一条记录然后过了几秒钟又执行了相同的查询，保证两次查询的结果是相同的，**可重复读也是mysql的默认隔离级别**

**读已提交数据，Read Commited**，一个事务在执行过程中可以看到其他事务已经提交的记录，而且能看到其他事务对已有记录的更新。

**读未提交数据，Read UnCommited**，一个事务在执行过程中可以看到其他事务没有提交的记录，而且能看到其他事务没有提交的记录的更新。

##Spring事务

